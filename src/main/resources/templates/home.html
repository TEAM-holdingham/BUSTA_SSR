<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>홈</title>
  <link rel="stylesheet" href="/sidebar/style_sidebar.css" />
  <link rel="stylesheet" href="/home/home.css" />
  <link rel="stylesheet" href="/home_set_time/style_home_set_time.css" />
  <script src="https://kit.fontawesome.com/9125fcc41c.js" crossorigin="anonymous"></script>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🚌</text></svg>">
</head>
<body>
<div id="mySidenav" class="sidenav">
  <!-- 사이드바 내용 -->
</div>

<span class="arrow" onclick="toggleNav()">
  <img src="/assets/open.svg" alt="열기" class="openbtn" />
</span>

<div id="main">
  <div id="timerContainer" class="expanded">
    <div class="timer">00:00:00</div>
    <div id="timerCountDown" >
      목적지까지
      <span id="hours" th:text="${hours}">00</span>시간
      <span id="minutes" th:text="${minutes}">00</span>분
      <span id="seconds" th:text="${seconds}">00</span>초 남았습니다.
    </div>
  </div>
  <div id="bus">
    <div class="bus-content">
      <div class="top-section">
        <div class="controls">
          <button id="startBtn" class="control-btn">
            <i class="fa-solid fa-play"></i>
          </button>
          <button id="pauseBtn" class="control-btn" disabled>
            <i class="fa-solid fa-pause"></i>
          </button>
          <button id="stopBtn" class="control-btn" disabled>
            <i class="fa-solid fa-square"></i>
          </button>
        </div>
        <div class="user-profile">
          <img src="/assets/승연티비.svg" alt="User Profile" />
        </div>
      </div>
      <div class="progress-bar">
        <div class="progress" id="studyProgress"></div>
      </div>
      <div class="friends">
        <!-- 친구 아이콘들 -->
      </div>
      <!-- 시간 설정하기 부분 추가 -->
      <div class="bottom-section">
        <div class="set-time-container">
          <div>시간 설정하기</div>
          <button id="openModalButton"><i class="fa-solid fa-clock"></i></button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- 시간 설정 모달 추가 -->
<div id="setTimeModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <div id="currentDate"></div>
    <h2>오늘의 목표 시간</h2>
    <form id="timeSetForm" action="/time/set" method="post">
      <div class="time-input">
        <div class="time-unit">
          <div class="time-control">
            <button type="button" class="decrement">-</button>
            <input type="text" id="hoursInput" name="hours" value="00" readonly />
            <button type="button" class="increment">+</button>
          </div>
          <span>시간</span>
        </div>
        <div class="time-unit">
          <div class="time-control">
            <button type="button" class="decrement">-</button>
            <input type="text" id="minutesInput" name="minutes" value="00" readonly />
            <button type="button" class="increment">+</button>
          </div>
          <span>분</span>
        </div>
      </div>
      <button type="submit" id="saveTimeButton">설정</button>
    </form>
  </div>
</div>

<div id="popupOverlay" class="overlay"></div>
<div id="popup" class="popup">
  <h2>무엇을 했나요?</h2>
  <textarea id="activityDescription" rows="4" cols="50"></textarea>
  <br><br>
  <button id="submitActivityBtn">제출</button>
</div>

<script src="/home/home.js"></script>
<script src="/home_set_time/script_home_set_time.js"></script>
<script src="/sidebar/script_sidebar.js"></script>
</body>
</html>
